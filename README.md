# AI 기반 섹터 로테이션 & 가치주 발굴 시스템

## 1. 프로젝트 개요

본 프로젝트는 2018년부터 2023년까지의 대규모 정적 데이터와 **2024~2025년 실시간 API 데이터**를 결합하여, **시장의 주도 섹터를 식별**하고 머신러닝을 통해 **숨겨진 저평가 우량주를 발굴** 하는 자동화 분석 시스템입니다.

단순한 주가 등락 확인을 넘어, **"탑다운(Top-Down)"** 투자 전략을 시스템화하여 증권사 리서치 애널리스트 및 스마트 투자자에게 **구체적인 매수 후보(Top 5 Picks)** 를 제안하는 것을 목표로 합니다.

### 핵심 목표

* **Data Integrity** : 데이터 누수및 논리적 오류가 완벽히 제거된 고품질 금융 데이터 파이프라인 구축.
* **AI Forecasting** : **Facebook Prophet**을 활용한 섹터별 향후 30일 추세 예측.
* **Smart Screening** : ***K-Means Clustering**과* **Risk-Reward 분석**을 통해 섹터 내 '옥석 가리기' 자동화.

---

## 2. 분석 아키텍처

이 시스템은 **"숲을 먼저 보고(Macro/Sector), 나무를 고르는(Stock)"** 3단계 Funnel 구조로 설계되었습니다.

1. **Step 1. 주도 섹터 식별 (Where to Play?)**
   * 실시간 거래량 강도(Relative Volume) 및 모멘텀 분석.
   * AI 모델(Prophet)이 예측한 상승 추세 섹터 선정.
2. **Step 2. 종목 군집화 (Clustering)**
   * **K-Means** 알고리즘을 적용하여 섹터 내 종목을 성격별(공격형/안정형/소외주)로 그룹화.
3. **Step 3. 옥석 가리기 (Action Item)**
   * **Risk-Reward 산점도** 분석을 통해 '변동성은 낮고 기대수익은 높은' **저평가 종목 Top 5** 추출.

---

## 3. 데이터 파이프라인 및 품질 엔지니어링

### 데이터 흐름

1. **수집** : Yahoo Finance API (`yfinance`)를 통해 주요 기업의 일별 OHLCV 수집.
2. **통합** : 과거 5년치 CSV 데이터와 최신 API 데이터 병합.
3. **정제** : **4대 치명적 결함** 해결을 통한 무결성 확보.
4. **가공** : 이동평균(MA), 변동성(Volatility), RSI, 등 파생 변수 생성.

### 데이터 품질 확보

분석의 신뢰도를 위해 다음과 같은 **정밀 정제 프로세스**를 거쳤습니다.

| **이슈**        | **설명**                          | **해결책**                                |
| --------------------- | --------------------------------------- | ----------------------------------------------- |
| **논리 오류**   | 고가(High) < 저가(Low)인 비정상 데이터  | `clean_ohlc_violations` 함수로 값 보정        |
| **데이터 누수** | A기업 종가가 B기업 수익률 계산에 반영됨 | `groupby('Company')` 기반 독립 연산 적용      |
| **정밀도 오류** | 부동소수점 오차로 인한 데이터 오검출    | `tolerance=0.01` 허용 오차 검증 도입          |
| **극단적 변동** | 50% 이상 폭락/폭등 (실제 시장 충격)     | 삭제하지 않고 `Is_Extreme_Change` 플래그 보존 |

---

## 4. 리포지토리 구조

**Bash**

```
📦 Project-Root
 ┣ 📂 Data_set           # 원본 및 가공된 CSV 데이터 저장소
 ┣ 📂 Docs               # 기획서, 데이터 사전, 회의록
 ┣ 📜 01_Data_Loader_QA.ipynb    # 초기 데이터 로드 및 1차 검증
 ┣ 📜 02_Sector_Update.ipynb     # API 활용 섹터 메타데이터 보완
 ┣ 📜 03_Data_Update.ipynb       # [핵심] 데이터 정제, API 병합, 파생변수 생성
 ┣ 📜 04_Modeling_Screening.ipynb # (예정) Prophet 예측 및 K-Means 클러스터링
 ┗ 📜 README.md          # 프로젝트 메인 문서
```

---

## 5. 대시보드 구조

Tableau를 활용하여 사용자의 의사결정 흐름에 맞춘 3단계 화면을 제공합니다.

* **Page 1: Market Flow (시장 조망)**
  * 섹터 로테이션 히트맵 & 랭킹 차트 (자금의 흐름 파악).
* **Page 2: Smart Screening (종목 발굴 - Main)**
  * **Risk-Reward 스캐터 플롯** & 클러스터링 결과.
  * 저평가 구간(Honey Spot)에 위치한 종목 리스트 제공.
* **Page 3: Deep Dive (상세 분석)**
  * 개별 종목의 AI 예측 밴드(Confidence Interval) 및 매수 근거 지표 시각화.

---

*Created by: Team Civilization (2026)*
